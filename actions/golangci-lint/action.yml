name: 'GolangCi Static Code Analysis'
description: 'GolangCi Static Code Analysis'

inputs:
  staticcheck-checks:
    description: 'Staticcheck checks configuration'
    required: false
    default: 'all'

runs:
  using: 'composite'
  steps:
    - name: Go mod download
      shell: bash
      run: go mod download

    - name: Static Code Analysis
      uses: golangci/golangci-lint-action@v8
      with:
        skip-cache: true
        args: |
          --timeout 5m --enable errcheck,ineffassign,staticcheck,unused,gocritic,asasalint,asciicheck,errchkjson,forcetypeassert,makezero,nilerr,unparam,unconvert,wastedassign,usestdlibvars --disable govet --staticcheck.checks="${{ inputs.staticcheck-checks }}"
